(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9566,4665],{4636:function(e,s,a){Promise.resolve().then(a.t.bind(a,5753,23)),Promise.resolve().then(a.bind(a,9841))},9841:function(e,s,a){"use strict";a.r(s),a.d(s,{UserAuthForm:function(){return g}});var i=a(4203),t=a(7376),l=a(6724),n=a(672),r=a(3410),c=a(7631),o=a(5289),m=a(635),d=a.n(m),u=a(9457);let h=u.Ry({email:u.Z_().email()});var x=a(4415),p=a(4949),b=a(5652),f=a(8830);function g(e){let{className:s,...a}=e,{register:m,handleSubmit:u,formState:{errors:g}}=(0,o.cI)({resolver:(0,r.F)(h)}),[v,j]=t.useState(!1),[N,w]=t.useState(!1),k=(0,l.useSearchParams)();async function y(e){j(!0);let s=await (0,c.signIn)("email",{email:e.email.toLowerCase(),redirect:!1,callbackUrl:(null==k?void 0:k.get("from"))||"/dashboard"});return(j(!1),null==s?void 0:s.ok)?(0,n.Am)({title:"Check your email",description:"We sent you a login link. Be sure to check your spam too."}):(0,n.Am)({title:"Something went wrong.",description:"Your sign in request failed. Please try again.",variant:"destructive"})}return(0,i.jsxs)("div",{className:d()("grid gap-6",s),...a,children:[(0,i.jsx)("form",{onSubmit:u(y),children:(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(f._,{className:"sr-only",htmlFor:"email",children:"Email"}),(0,i.jsx)(b.I,{id:"email",placeholder:"name@example.com",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:v||N,...m("email")}),(null==g?void 0:g.email)&&(0,i.jsx)("p",{className:"px-1 text-xs text-red-600",children:g.email.message})]}),(0,i.jsxs)("button",{className:d()((0,p.d)()),disabled:v,children:[v&&(0,i.jsx)(x.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In with Email"]})]})}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,i.jsx)("span",{className:"w-full border-t border-slate-300"})}),(0,i.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,i.jsx)("span",{className:"bg-white px-2 text-slate-600",children:"Or continue with"})})]}),(0,i.jsxs)("button",{type:"button",className:d()((0,p.d)({variant:"outline"})),onClick:()=>{w(!0),(0,c.signIn)("github")},disabled:v||N,children:[N?(0,i.jsx)(x.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}):(0,i.jsx)(x.P.gitHub,{className:"mr-2 h-4 w-4"})," ","Github"]})]})}}},function(e){e.O(0,[5753,689,7631,6171,5827,1744],function(){return e(e.s=4636)}),_N_E=e.O()}]);