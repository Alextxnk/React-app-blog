(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{7590:function(e,s,a){Promise.resolve().then(a.t.bind(a,5753,23)),Promise.resolve().then(a.bind(a,4432))},4432:function(e,s,a){"use strict";a.r(s),a.d(s,{UserAuthForm:function(){return x}});var i=a(4203),t=a(7376),l=a(6724),r=a(672),n=a(3410),o=a(7631),m=a(5289),d=a(9321),c=a(1105),u=a(4415),p=a(4949),h=a(5652),f=a(8830);function x(e){let{className:s,...a}=e,{register:x,handleSubmit:v,formState:{errors:b}}=(0,m.cI)({resolver:(0,n.F)(c.J)}),[g,j]=t.useState(!1),[w,N]=t.useState(!1),_=(0,l.useSearchParams)();async function C(e){j(!0);let s=await (0,o.signIn)("email",{email:e.email.toLowerCase(),redirect:!1,callbackUrl:(null==_?void 0:_.get("from"))||"/dashboard"});return(j(!1),null==s?void 0:s.ok)?(0,r.Am)({title:"Проверьте свою электронную почту",description:"Мы отправили вам ссылку для входа в систему. Обязательно проверьте также свой спам."}):(0,r.Am)({title:"Что-то пошло не так.",description:"Ваш запрос на вход не выполнен. Пожалуйста, попробуйте снова.",variant:"destructive"})}return(0,i.jsx)("div",{className:(0,d.cn)("grid gap-6",s),...a,children:(0,i.jsx)("form",{onSubmit:v(C),children:(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(f._,{className:"ml-1 mb-1",htmlFor:"email",children:"Электронная почта"}),(0,i.jsx)(h.I,{id:"email",placeholder:"name@example.com",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:g||w,...x("email")}),(null==b?void 0:b.email)&&(0,i.jsx)("p",{className:"ml-1 text-sm text-red-600",children:b.email.message})]}),(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(f._,{className:"ml-1 mb-1",htmlFor:"password",children:"Пароль"}),(0,i.jsx)(h.I,{id:"password",type:"password",autoCapitalize:"none",autoComplete:"password",autoCorrect:"off",disabled:g||w,...x("password")}),(null==b?void 0:b.password)&&(0,i.jsx)("p",{className:"ml-1 text-sm text-red-600",children:b.password.message})]}),(0,i.jsxs)("button",{className:(0,d.cn)((0,p.dc)()),disabled:g,children:[g&&(0,i.jsx)(u.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Войти"]})]})})})}},1105:function(e,s,a){"use strict";a.d(s,{J:function(){return t}});var i=a(9457);let t=i.Ry({email:i.Z_().email("Email введен некорректно"),password:i.Z_().min(8,{message:"Пароль должен состоять минимум из 8 символов"})})}},function(e){e.O(0,[5753,2822,458,7631,5975,5827,1744],function(){return e(e.s=7590)}),_N_E=e.O()}]);