(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8748],{5945:function(e,n,s){Promise.resolve().then(s.bind(s,4506)),Promise.resolve().then(s.bind(s,5986)),Promise.resolve().then(s.bind(s,7415)),Promise.resolve().then(s.bind(s,6640)),Promise.resolve().then(s.bind(s,8344))},213:function(e,n,s){"use strict";s.d(n,{Z:function(){return l}});var t=s(4203),r=s(635),a=s.n(r);function i(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:a()("h-5 w-2/5 animate-pulse rounded-lg bg-slate-100",n),...s})}function l(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:a()("overflow-hidden rounded-lg border",n),...s})}l.Header=function(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:a()("grid gap-1 p-6",n),...s})},l.Content=function(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:a()("px-6 pb-4",n),...s})},l.Footer=function(e){let{className:n,...s}=e;return(0,t.jsx)("div",{className:a()("border-t bg-slate-50 px-6 py-4",n),...s})},l.Title=function(e){let{className:n,...s}=e;return(0,t.jsx)("h4",{className:a()("text-lg font-medium",n),...s})},l.Description=function(e){let{className:n,...s}=e;return(0,t.jsx)("p",{className:a()("text-sm text-gray-600",n),...s})},l.Skeleton=function(){return(0,t.jsxs)(l,{children:[(0,t.jsxs)(l.Header,{className:"gap-2",children:[(0,t.jsx)(i,{className:"h-5 w-1/5"}),(0,t.jsx)(i,{className:"h-4 w-4/5"})]}),(0,t.jsx)(l.Content,{className:"h-10"}),(0,t.jsx)(l.Footer,{children:(0,t.jsx)(i,{className:"h-8 w-[120px] bg-slate-200"})})]})}},8344:function(e,n,s){"use strict";s.r(n),s.d(n,{UserNameForm:function(){return j}});var t=s(4203),r=s(7376),a=s(6724),i=s(672),l=s(3410),o=s(5289),c=s(635),u=s.n(c),d=s(9457);let m=d.Ry({name:d.Z_().min(3).max(32)});var h=s(4415),x=s(4949),f=s(213),p=s(5652),N=s(8830);function j(e){let{user:n,className:s,...c}=e,d=(0,a.useRouter)(),{handleSubmit:j,register:v,formState:{errors:b}}=(0,o.cI)({resolver:(0,l.F)(m),defaultValues:{name:(null==n?void 0:n.name)||""}}),[g,_]=r.useState(!1);async function w(e){_(!0);let s=await fetch("/api/users/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name})});if(_(!1),!(null==s?void 0:s.ok))return(0,i.Am)({title:"Something went wrong.",description:"Your name was not updated. Please try again.",variant:"destructive"});(0,i.Am)({description:"Your name has been updated."}),d.refresh()}return(0,t.jsx)("form",{className:u()(s),onSubmit:j(w),...c,children:(0,t.jsxs)(f.Z,{children:[(0,t.jsxs)(f.Z.Header,{children:[(0,t.jsx)(f.Z.Title,{children:"Your Name"}),(0,t.jsx)(f.Z.Description,{children:"Please enter your full name or a display name you are comfortable with."})]}),(0,t.jsx)(f.Z.Content,{children:(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)(N._,{className:"sr-only",htmlFor:"name",children:"Name"}),(0,t.jsx)(p.I,{id:"name",className:"w-[400px]",size:32,...v("name")}),(null==b?void 0:b.name)&&(0,t.jsx)("p",{className:"px-1 text-xs text-red-600",children:b.name.message})]})}),(0,t.jsx)(f.Z.Footer,{children:(0,t.jsxs)("button",{type:"submit",className:u()((0,x.d)(),s),disabled:g,children:[g&&(0,t.jsx)(h.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Save"})]})})]})})}},7415:function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.suspense=function(){let e=Error(t.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=t.NEXT_DYNAMIC_NO_SSR_CODE,e},n.NoSSR=function(e){let{children:n}=e;return n},(0,s(4450).Z)(s(7376));var t=s(5157)}},function(e){e.O(0,[689,6171,5827,1744],function(){return e(e.s=5945)}),_N_E=e.O()}]);