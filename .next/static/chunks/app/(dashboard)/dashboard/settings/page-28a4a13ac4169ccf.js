(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8748],{2588:function(e,n,t){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}t.d(n,{Z:function(){return r}})},3440:function(e,n,t){"use strict";t.d(n,{F:function(){return l},e:function(){return a}});var r=t(7376);function l(...e){return n=>e.forEach(e=>{var t;"function"==typeof(t=e)?t(n):null!=t&&(t.current=n)})}function a(...e){return(0,r.useCallback)(l(...e),e)}},2981:function(e,n,t){"use strict";t.d(n,{f:function(){return s}});var r=t(2588),l=t(7376),a=t(689);let i=(0,l.forwardRef)((e,n)=>(0,l.createElement)(a.WV.label,(0,r.Z)({},e,{ref:n,onMouseDown:n=>{var t;null===(t=e.onMouseDown)||void 0===t||t.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),s=i},689:function(e,n,t){"use strict";t.d(n,{WV:function(){return s},jH:function(){return o}});var r=t(2588),l=t(7376),a=t(900),i=t(4444);let s=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((e,n)=>{let t=(0,l.forwardRef)((e,t)=>{let{asChild:a,...s}=e,o=a?i.g7:n;return(0,l.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,l.createElement)(o,(0,r.Z)({},s,{ref:t}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function o(e,n){e&&(0,a.flushSync)(()=>e.dispatchEvent(n))}},4444:function(e,n,t){"use strict";t.d(n,{A4:function(){return o},g7:function(){return i}});var r=t(2588),l=t(7376),a=t(3440);let i=(0,l.forwardRef)((e,n)=>{let{children:t,...a}=e,i=l.Children.toArray(t),o=i.find(u);if(o){let e=o.props.children,t=i.map(n=>n!==o?n:l.Children.count(e)>1?l.Children.only(null):(0,l.isValidElement)(e)?e.props.children:null);return(0,l.createElement)(s,(0,r.Z)({},a,{ref:n}),(0,l.isValidElement)(e)?(0,l.cloneElement)(e,void 0,t):null)}return(0,l.createElement)(s,(0,r.Z)({},a,{ref:n}),t)});i.displayName="Slot";let s=(0,l.forwardRef)((e,n)=>{let{children:t,...r}=e;return(0,l.isValidElement)(t)?(0,l.cloneElement)(t,{...function(e,n){let t={...n};for(let r in n){let l=e[r],a=n[r],i=/^on[A-Z]/.test(r);i?l&&a?t[r]=(...e)=>{a(...e),l(...e)}:l&&(t[r]=l):"style"===r?t[r]={...l,...a}:"className"===r&&(t[r]=[l,a].filter(Boolean).join(" "))}return{...e,...t}}(r,t.props),ref:(0,a.F)(n,t.ref)}):l.Children.count(t)>1?l.Children.only(null):null});s.displayName="SlotClone";let o=({children:e})=>(0,l.createElement)(l.Fragment,null,e);function u(e){return(0,l.isValidElement)(e)&&e.type===o}},7606:function(e,n,t){Promise.resolve().then(t.bind(t,4506)),Promise.resolve().then(t.bind(t,5986)),Promise.resolve().then(t.bind(t,6640)),Promise.resolve().then(t.bind(t,7415)),Promise.resolve().then(t.bind(t,8344))},5652:function(e,n,t){"use strict";t.d(n,{I:function(){return i}});var r=t(4203),l=t(7376),a=t(9321);let i=l.forwardRef((e,n)=>{let{className:t,...i}=e;return l.useEffect(()=>{console.log(i.type)},[]),(0,r.jsx)("input",{className:(0,a.cn)("flex h-10 w-full rounded-md border border-slate-300 bg-transparent py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:text-slate-50 dark:focus:ring-slate-400 dark:focus:ring-offset-slate-900",t),ref:n,...i})});i.displayName="Input"},8680:function(e,n,t){"use strict";t.d(n,{_:function(){return s}});var r=t(4203),l=t(7376),a=t(2981),i=t(9321);let s=l.forwardRef((e,n)=>{let{className:t,...l}=e;return(0,r.jsx)(a.f,{ref:n,className:(0,i.cn)("text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...l})});s.displayName=a.f.displayName},8344:function(e,n,t){"use strict";t.r(n),t.d(n,{UserNameForm:function(){return b}});var r=t(4203),l=t(7376),a=t(6724),i=t(672),s=t(3410),o=t(5289),u=t(9321),c=t(9457);let d=c.Ry({name:c.Z_().min(3).max(32)});var f=t(4415),m=t(4949),p=t(213),h=t(5652),v=t(8680);function b(e){let{user:n,className:t,...c}=e,b=(0,a.useRouter)(),{handleSubmit:y,register:x,formState:{errors:g}}=(0,o.cI)({resolver:(0,s.F)(d),defaultValues:{name:(null==n?void 0:n.name)||""}}),[w,N]=l.useState(!1);async function j(e){N(!0);let t=await fetch("/api/users/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name})});if(N(!1),!(null==t?void 0:t.ok))return(0,i.Am)({title:"Something went wrong.",description:"Your name was not updated. Please try again.",variant:"destructive"});(0,i.Am)({description:"Your name has been updated."}),b.refresh()}return(0,r.jsx)("form",{className:(0,u.cn)(t),onSubmit:y(j),...c,children:(0,r.jsxs)(p.Z,{children:[(0,r.jsxs)(p.Z.Header,{children:[(0,r.jsx)(p.Z.Title,{children:"Your Name"}),(0,r.jsx)(p.Z.Description,{children:"Please enter your full name or a display name you are comfortable with."})]}),(0,r.jsx)(p.Z.Content,{children:(0,r.jsxs)("div",{className:"grid gap-1",children:[(0,r.jsx)(v._,{className:"sr-only",htmlFor:"name",children:"Name"}),(0,r.jsx)(h.I,{id:"name",className:"w-[400px]",size:32,...x("name")}),(null==g?void 0:g.name)&&(0,r.jsx)("p",{className:"px-1 text-xs text-red-600",children:g.name.message})]})}),(0,r.jsx)(p.Z.Footer,{children:(0,r.jsxs)("button",{type:"submit",className:(0,u.cn)((0,m.d)(),t),disabled:w,children:[w&&(0,r.jsx)(f.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:"Save"})]})})]})})}},6724:function(e,n,t){e.exports=t(8066)}},function(e){e.O(0,[2822,8030,7188,5827,1744],function(){return e(e.s=7606)}),_N_E=e.O()}]);