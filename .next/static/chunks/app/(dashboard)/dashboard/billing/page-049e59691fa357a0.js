(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4281],{4845:function(e,n,s){Promise.resolve().then(s.bind(s,5986)),Promise.resolve().then(s.bind(s,4506)),Promise.resolve().then(s.bind(s,6640)),Promise.resolve().then(s.bind(s,7415)),Promise.resolve().then(s.bind(s,9897))},9897:function(e,n,s){"use strict";s.r(n),s.d(n,{BillingForm:function(){return d}});var r=s(4203),i=s(7376),t=s(672),l=s(9321),o=s(4415),a=s(4949),c=s(213);function d(e){let{subscriptionPlan:n,className:s,...d}=e,[u,h]=i.useState(!1);async function m(e){e.preventDefault(),h(!u);let n=await fetch("/api/users/stripe");if(!(null==n?void 0:n.ok))return(0,t.Am)({title:"Something went wrong.",description:"Please refresh the page and try again.",variant:"destructive"});let s=await n.json();s&&(window.location.href=s.url)}return(0,r.jsx)("form",{className:(0,l.cn)(s),onSubmit:m,...d,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(c.Z.Header,{children:[(0,r.jsx)(c.Z.Title,{children:"Plan"}),(0,r.jsxs)(c.Z.Description,{children:["You are currently on the ",(0,r.jsx)("strong",{children:n.name})," ","plan."]})]}),(0,r.jsx)(c.Z.Content,{children:n.description}),(0,r.jsxs)(c.Z.Footer,{className:"flex flex-col items-start space-y-2 md:flex-row md:justify-between md:space-x-0",children:[(0,r.jsxs)("button",{type:"submit",className:(0,l.cn)((0,a.d)()),disabled:u,children:[u&&(0,r.jsx)(o.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),n.isPro?"Manage Subscription":"Upgrade to PRO"]}),n.isPro?(0,r.jsxs)("p",{className:"rounded-full text-xs font-medium",children:[n.isCanceled?"Your plan will be canceled on ":"Your plan renews on ",(0,l.p)(n.stripeCurrentPeriodEnd),"."]}):null]})]})})}}},function(e){e.O(0,[2822,7188,5827,1744],function(){return e(e.s=4845)}),_N_E=e.O()}]);